// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                  String    @id @default(cuid())
  email               String    @unique @default("")
  password            String
  from_Article_author Article[] @relation("Article_author")
}

model Setting {
  id    String @id @default(cuid())
  name  String @unique @default("")
  value Json?
}

model Image {
  id      String @id @default(cuid())
  image   Json?
  caption String @default("")
}

model DraftPage {
  id                          String      @id @default(cuid())
  pageTitle                   String      @default("")
  url                         String      @default("")
  packageName                 String?
  designOld                   Json?
  design                      Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  hideAccessibilityTab        Boolean     @default(false)
  accessibilityOld            Json?
  accessibility               Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  hideCodeTab                 Boolean     @default(false)
  codeOld                     Json?
  code                        Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  relatedPages                DraftPage[] @relation("DraftPage_relatedPages")
  relatedInfoOld              Json?
  relatedInfo                 Json        @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  published                   Page?       @relation("DraftPage_published", fields: [publishedId], references: [id])
  publishedId                 String?     @unique @map("published")
  from_DraftPage_relatedPages DraftPage[] @relation("DraftPage_relatedPages")
}

model Page {
  id                     String     @id @default(cuid())
  pageTitle              String     @default("")
  url                    String     @default("")
  packageName            String?
  designOld              Json?
  design                 Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  hideAccessibilityTab   Boolean    @default(false)
  accessibilityOld       Json?
  accessibility          Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  hideCodeTab            Boolean    @default(false)
  codeOld                Json?
  code                   Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  relatedPages           Page[]     @relation("Page_relatedPages")
  relatedInfoOld         Json?
  relatedInfo            Json       @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  draft                  DraftPage? @relation("DraftPage_published")
  from_Page_relatedPages Page[]     @relation("Page_relatedPages")
}

model Article {
  id                       String  @id @default(cuid())
  pageTitle                String  @default("")
  author                   User?   @relation("Article_author", fields: [authorId], references: [id])
  authorId                 String? @map("author")
  url                      String  @default("")
  content                  Json    @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  cardTitle                String  @default("")
  cardDescription          String  @default("")
  cardDescriptionSecondary String  @default("")
  cardImage                String  @default("")

  @@index([authorId])
}