(window.webpackJsonp=window.webpackJsonp||[]).push([[70,217],{1392:function(e,t,r){"use strict";r.r(t);var n=r(216),o=r(213),i=r(272),c=r(218),u=r(341),s=r(326),a=r(215);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(e){var t=e.context,r=e.showCode,p=e.showDemo,d=l(Object(s.useProgress)(),2),f=d[0],b=d[1],O=l(Object(s.useProgress)(),2),y=O[0],j=O[1],x=function(e){return function(t){t.preventDefault(),b({type:"goto",index:e})}},g=function(e){return function(t){t.preventDefault(),j({type:"goto",index:e})}};return Object(o.jsx)(n.a,{context:t,showCode:r,showDemo:p,scope:{Playground:n.a,context:t,showCode:r,showDemo:p,Intopia:a.a,Grid:i.Grid,Cell:i.Cell,Wrapper:s.Wrapper,ProgressRope:u.ProgressRope,state:f,Item:u.Item,handleClick:x,Button:c.Button,dispatch:b,state2:y,handleClick2:g,dispatch2:j},code:'<>\n  <Intopia />\n\n  <Grid>\n    <Cell width={6}>\n      <h2>Composition</h2>\n      <Wrapper>\n        <ProgressRope current={state.index}>\n          <Item onClick={handleClick(0)}>Step 1</Item>\n          <Item onClick={handleClick(1)}>Step 2</Item>\n          <Item onClick={handleClick(2)}>Step 3</Item>\n          <Item onClick={handleClick(3)}>Step 4</Item>\n          <Item onClick={handleClick(4)}>Step 5</Item>\n          <Item end onClick={handleClick(5)}>\n            Review and Submit\n          </Item>\n        </ProgressRope>\n      </Wrapper>\n    </Cell>\n    <Cell top={2} width={6}>\n      <h3>Helper Controls</h3>\n      <h4>Current: {state.index}</h4>\n      <Button onClick={() => dispatch({ type: "prev" })}>prev</Button>{" "}\n      <Button onClick={() => dispatch({ type: "next" })}>next</Button>\n    </Cell>\n    <Cell width={6}>\n      <h2>Data Driven</h2>\n      <Wrapper>\n        <ProgressRope\n          current={state2.index}\n          data={[\n            { text: "Step 1", onClick: handleClick2(0) },\n            { text: "Step 2", onClick: handleClick2(1) },\n            { text: "Step 3", onClick: handleClick2(2) },\n            { text: "Step 4", onClick: handleClick2(3) },\n            { text: "Step 5", onClick: handleClick2(5) },\n            { type: "end", text: "Review and Submit", onClick: handleClick2(5) }\n          ]}\n        />\n      </Wrapper>\n    </Cell>\n    <Cell top={2} width={6}>\n      <h3>Helper Controls</h3>\n      <h4>Current: {state2.index}</h4>\n      <Button onClick={() => dispatch2({ type: "prev" })}>prev</Button>{" "}\n      <Button onClick={() => dispatch2({ type: "next" })}>next</Button>\n    </Cell>\n  </Grid>\n</>;\n'},Object(o.jsx)(a.a,null),Object(o.jsx)(i.Grid,null,Object(o.jsx)(i.Cell,{width:6},Object(o.jsx)("h2",null,"Composition"),Object(o.jsx)(s.Wrapper,null,Object(o.jsx)(u.ProgressRope,{current:f.index},Object(o.jsx)(u.Item,{onClick:x(0)},"Step 1"),Object(o.jsx)(u.Item,{onClick:x(1)},"Step 2"),Object(o.jsx)(u.Item,{onClick:x(2)},"Step 3"),Object(o.jsx)(u.Item,{onClick:x(3)},"Step 4"),Object(o.jsx)(u.Item,{onClick:x(4)},"Step 5"),Object(o.jsx)(u.Item,{end:!0,onClick:x(5)},"Review and Submit")))),Object(o.jsx)(i.Cell,{top:2,width:6},Object(o.jsx)("h3",null,"Helper Controls"),Object(o.jsx)("h4",null,"Current: ",f.index),Object(o.jsx)(c.Button,{onClick:function(){return b({type:"prev"})}},"prev")," ",Object(o.jsx)(c.Button,{onClick:function(){return b({type:"next"})}},"next")),Object(o.jsx)(i.Cell,{width:6},Object(o.jsx)("h2",null,"Data Driven"),Object(o.jsx)(s.Wrapper,null,Object(o.jsx)(u.ProgressRope,{current:y.index,data:[{text:"Step 1",onClick:g(0)},{text:"Step 2",onClick:g(1)},{text:"Step 3",onClick:g(2)},{text:"Step 4",onClick:g(3)},{text:"Step 5",onClick:g(5)},{type:"end",text:"Review and Submit",onClick:g(5)}]}))),Object(o.jsx)(i.Cell,{top:2,width:6},Object(o.jsx)("h3",null,"Helper Controls"),Object(o.jsx)("h4",null,"Current: ",y.index),Object(o.jsx)(c.Button,{onClick:function(){return j({type:"prev"})}},"prev")," ",Object(o.jsx)(c.Button,{onClick:function(){return j({type:"next"})}},"next"))))}},215:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(213);function o(e){var t=e.ignore,r=e.props;return Object(n.jsx)("div",Object.assign({},r,{css:{background:t?"#f3cccc":"#ffffe5",border:"1px solid #000",padding:"1rem",color:"#000",fontSize:"16px",marginBottom:"1rem","& p:last-child":{marginBottom:0}}}),Object(n.jsx)("strong",null,"INTOPIA NOTES"),Object(n.jsx)("p",null,t?"Ignore this component please":"This component is ready to be tested!"))}},281:function(e){e.exports=JSON.parse('{"name":"@westpac/progress-rope","version":"1.0.0","description":"Progress rope component","repository":"https://github.com/WestpacGEL/GEL.git","author":"Westpac GEL Team <gel@westpac.com.au>","contributors":[{"name":"Jeremy Ortiz","email":"jeremy@jeremyortiz.io","url":"https://www.jeremyortiz.io/"}],"license":"GPL-3.0+","scripts":{"start":"PACKAGE_NAME=progress-rope webpack-dev-server --config ../../helpers/example/start.webpack.config.js","test":"start-server-and-test start http://localhost:8080 test:all","test:dev":"start-server-and-test start http://localhost:8080 test:test-dev","test:all":"yarn test:integration","test:integration":"cypress run","test:test-dev":"cypress open"},"main":"dist/progress-rope.cjs.js","module":"dist/progress-rope.esm.js","dependencies":{"@babel/runtime":"^7.6.2","@westpac/a11y":"^1.0.0","@westpac/core":"^1.0.0","prop-types":"^15.7.2","resize-observer-polyfill":"^1.5.1"},"peerDependencies":{"react":"^16.11.0","react-spring":"^8.0.27"},"devDependencies":{"@westpac/button":"*","@westpac/grid":"*","cypress":"^4.1.0","react":"^16.13.0","react-spring":"^8.0.27","start-server-and-test":"^1.10.8"}}')},326:function(e,t,r){"use strict";r.r(t),r.d(t,"useProgress",(function(){return u})),r.d(t,"Link",(function(){return s})),r.d(t,"Wrapper",(function(){return a}));var n=r(213),o=r(0);function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=function(){var e=c(Object(o.useReducer)((function(e,t){switch(t.type){case"next":return{index:e.index+1};case"prev":return{index:0===e.index?0:e.index-1};case"goto":return{index:t.index};default:throw new Error}}),{index:0}),2);return[e[0],e[1]]},s=function(e){var t=e.index,r=e.dispatch,o=i(e,["index","dispatch"]);return Object(n.jsx)("a",Object.assign({href:"#",onClick:function(e){e.preventDefault(),r({type:"goto",index:t})}},o))},a=function(e){return Object(n.jsx)("div",Object.assign({css:{width:"300px"}},e))}},341:function(e,t,r){e.exports=r(342)},342:function(e,t,r){"use strict";r.r(t);var n=r(213),o=r(0);function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=function(e){e.current,e.instanceIdPrefix,e.data;var t=i(e,["current","instanceIdPrefix","data"]);return Object(n.jsx)("ol",t)},u=function(){return{position:"relative",listStyle:"none",paddingLeft:0,margin:0}},s=r(281),a=r(273);function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=function(e){e.groupItemsId,e.index,e.text,e.active,e.complete;var t=l(e,["groupItemsId","index","text","active","complete"]);return Object(n.jsx)("li",t)},d=function(){return{}};function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var b=function(e){e.groupItemsId,e.index,e.text,e.active,e.complete;var t=f(e,["groupItemsId","index","text","active","complete"]);return Object(n.jsx)("ol",t)},O=function(){return{position:"relative",listStyle:"none",paddingLeft:0,margin:0}};function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var j=function(e){e.groupItemsId,e.index,e.text,e.complete,e.active;var t=y(e,["groupItemsId","index","text","complete","active"]);return Object(n.jsx)("button",Object.assign({type:"button"},t))},x=function(e,t){var r=t.complete,o=t.active,i=Object(n.useBrand)(),c=i.COLORS,u=i.PACKS;i.TYPE;return{position:"relative",padding:"6px 30px 26px 56px",fontSize:"1rem",lineHeight:"1.428571429",textAlign:"left",display:"block",width:"100%",border:0,background:"none",touchAction:"manipulation",cursor:"pointer",color:o?c.neutral:c.tints.muted70,":focus":{outlineOffset:"-".concat(u.focus.outlineWidth)},"::before":{content:'""',display:"block",position:"absolute",zIndex:1,borderLeft:"2px ".concat(o?"solid ".concat(c.primary):"dashed ".concat(c.border)),top:0,left:"36px",bottom:0,height:"auto",transform:"translateY(0.875rem)"},":after":{content:'""',zIndex:1,display:"block",borderRadius:"50%",position:"absolute",top:"10px",width:"14px",height:"14px",left:"30px",border:"".concat(r?"7px":"2px"," ").concat("solid ".concat(o?c.primary:c.border)),backgroundColor:"#fff",boxSizing:"border-box"}}},g=r(74);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var w=function(e){var t=e.groupItemsId,r=e.index,i=e.text,c=(e.instanceIdPrefix,e.children),u=e.overrides,l=P(e,["groupItemsId","index","text","instanceIdPrefix","children","overrides"]),f=J(),y=f.openGroup,w=f.ropeGraph,C=f.handleClick,S=w[r].includes("visited"),k="visited"===w[r+1][0],E=Object(n.useBrand)(),A=E.OVERRIDES[s.name],G=E[s.name],R=I(Object(o.useState)(!0),2),D=R[0],B=R[1],T=I(function(){var e=Object(o.useRef)(),t=m(Object(o.useState)({left:0,top:0,width:0,height:0}),2),r=t[0],n=t[1],i=Object(o.useState)((function(){return new g.a((function(e){var t=m(e,1)[0];return n(t.contentRect)}))})),c=m(i,1)[0];return Object(o.useEffect)((function(){return c.observe(e.current),function(){return c.disconnect()}}),[]),[{ref:e},r]}(),2),U=T[0],_=T[1].height,z=I(Object(o.useState)(!0),2),W=z[0],L=z[1],H=Object(a.b)({to:{height:D?0:_,overflow:D?"hidden":"visible",opacity:D?0:1},immediate:W}),N={Group:{styles:d,component:p,attributes:function(){return null}},GroupButton:{styles:x,component:j,attributes:function(){return null}},GroupItems:{styles:O,component:b,attributes:function(){return null}}},Y=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({groupItemsId:t,index:r,text:i,complete:k,active:S,overrides:u},l),K=Object(n.overrideReconciler)(N,A,G,u);Object(o.useEffect)((function(){null===y||r!==y?(W&&L(!1),B(!0)):B(!1)}),[y]);return Object(n.jsx)(K.Group.component,Object.assign({groupItemsId:t,index:r,text:i,complete:k,active:S},l,K.Group.attributes(Y),{css:K.Group.styles(Y)}),Object(n.jsx)(K.GroupButton.component,Object.assign({onClick:function(){W&&L(!1),C(r)},"aria-expanded":!D,"aria-controls":t,groupItemsId:t,index:r,text:i,complete:k,active:S},K.GroupButton.attributes(Y),{css:K.GroupButton.styles(Y)}),i),Object(n.jsx)(a.a.div,{style:H},Object(n.jsx)("div",{ref:U.ref},Object(n.jsx)(K.GroupItems.component,Object.assign({"aria-hidden":D,id:t,groupItemsId:t,index:r,text:i,complete:k,active:S},K.GroupItems.attributes(Y),{css:K.GroupItems.styles(Y)}),o.Children.map(c,(function(e,t){return Object(o.cloneElement)(e,{index:t,groupIndex:r})}))))))};function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var S=function(e){e.groupItemsId,e.index,e.groupIndex,e.end,e.visited,e.grouped,e.active,e.furthest,e.overrides;var t=C(e,["groupItemsId","index","groupIndex","end","visited","grouped","active","furthest","overrides"]);return Object(n.jsx)("li",t)},k=function(e,t){var r=t.end,o=t.visited,i=t.grouped,c=t.furthest,u=Object(n.useBrand)().COLORS;return{position:"relative",marginTop:r&&(i?"0.375rem":"0.125rem"),":last-of-type":{paddingBottom:i&&!r&&"30px"},"::before":{content:r?"none":'""',display:"block",position:"absolute",zIndex:0,borderLeft:"2px ".concat(o&&!c?"solid ".concat(u.primary):"dashed ".concat(u.border)),top:0,bottom:0,left:"36px",transform:i&&!r?"translateY(0.875rem)":"translateY(0.625rem)"}}};function E(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var A=function(e){e.groupItemsId,e.index,e.groupIndex,e.end;var t=e.visited,r=(e.grouped,e.active,e.furthest,E(e,["groupItemsId","index","groupIndex","end","visited","grouped","active","furthest"]));return Object(n.jsx)("button",Object.assign({type:"button",disabled:!t},r))},G=function(e,t){var r=t.end,o=t.visited,i=t.grouped,c=t.active,u=t.furthest,s=Object(n.useBrand)(),a=s.COLORS,l=s.PACKS;return{position:"relative",fontSize:"14px",lineHeight:1.428571429,textAlign:"left",padding:"8px 30px 14px 56px",border:0,background:"none",display:"block",width:"100%",color:c?a.primary:o?a.neutral:a.tints.muted90,fontWeight:c&&"bold",appearance:"none",cursor:"pointer",touchAction:"manipulation",userSelect:"none",boxSizing:"border-box",":disabled":{color:a.tints.muted90,cursor:"default"},":focus":{outlineOffset:"-".concat(l.focus.outlineWidth)},":after":{content:'""',zIndex:1,display:"block",borderRadius:"50%",position:"absolute",top:i&&!r?"14px":"10px",width:i&&!r?"8px":"14px",height:i&&!r?"8px":"14px",left:i&&!r?"33px":"30px",border:"".concat(!u&&o?i&&!r?"4px":"7px":"2px"," solid ").concat(o?a.primary:a.border),backgroundColor:"#fff",boxSizing:"border-box"}}};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var T=function(e){var t=e.groupItemsId,r=e.index,o=e.groupIndex,i=e.end,c=e.onClick,u=(e.instanceIdPrefix,e.children),a=e.overrides,l=B(e,["groupItemsId","index","groupIndex","end","onClick","instanceIdPrefix","children","overrides"]),p=J(),d=p.currStep,f=p.currGroup,b=p.grouped,O=p.ropeGraph,y=Object(n.useBrand)(),j=y.OVERRIDES[s.name],x=y[s.name],g={Item:{styles:k,component:S,attributes:function(){return null}},ItemButton:{styles:G,component:A,attributes:function(){return null}}},m=b&&!i&&"visited"===O[o][r]||(!b||i)&&"visited"===O[r][0],v=!b&&r===d||r===d&&o===f||i&&r===f,h=!1;m&&(b&&!i?(O[o][r+1]&&"unvisited"===O[o][r+1]||!O[o][r+1]&&O[o+1]&&"unvisited"===O[o+1][0])&&(h=!0):(O[r+1]&&"unvisited"===O[r+1][0]||i&&(d===r||b&&f===r&&0===d))&&(h=!0));var I=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({groupItemsId:t,index:r,groupIndex:o,end:i,onClick:c,visited:m,grouped:b,active:v,furthest:h,overrides:a},l),P=Object(n.overrideReconciler)(g,j,x,a);return Object(n.jsx)(P.Item.component,Object.assign({groupItemsId:t,index:r,groupIndex:o,end:i,visited:m,grouped:b,active:v,furthest:h},l,P.Item.attributes(I),{css:P.Item.styles(I)}),Object(n.jsx)(P.ItemButton.component,Object.assign({groupItemsId:t,index:r,groupIndex:o,end:i,onClick:c,"aria-current":v?"step":void 0,visited:m,grouped:b,active:v,furthest:h},P.ItemButton.attributes(I),{css:P.ItemButton.styles(I)}),u))};function U(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function H(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}T.defaultProps={end:!1};var N=Object(o.createContext)(),J=function(){var e=Object(o.useContext)(N);if(!e)throw new Error("ProgressRope sub-components should be wrapped in <ProgressRope>.");return e},Y=function(e){var t=e.current,r=e.instanceIdPrefix,i=e.data,a=e.children,l=e.overrides,p=H(e,["current","instanceIdPrefix","data","children","overrides"]),d=Object(n.useBrand)(),f=d.OVERRIDES[s.name],b=d[s.name],O={ProgressRope:{styles:u,component:c,attributes:function(){return null}}},y=L(Object(o.useState)(r),2),j=y[0],x=y[1];Object(o.useEffect)((function(){j||x("gel-progress-rope-".concat(Object(n.useInstanceId)()))}),[j]);var g=function(e){return"".concat(j,"-group-").concat(e+1)},m=z({current:t,instanceIdPrefix:j,data:i,overrides:l},p),v=Object(n.overrideReconciler)(O,f,b,l),h=z({currStep:t,currGroup:0,openGroup:0},function(e,t){var r=[],n=!1;return e?e.forEach((function(e){e.type&&"group"===e.type?(n=!0,r.push(Array(e.items.length).fill("unvisited"))):r.push(["unvisited"])})):o.Children.forEach(t,(function(e){e.type===w?(n=!0,r.push(Array(o.Children.count(e.props.children)).fill("unvisited"))):r.push(["unvisited"])})),{ropeGraph:r,grouped:n}}(i,a)),I=L(Object(o.useReducer)((function(e,t){switch(t.type){case"UPDATE_STEP":return z({},e,{currStep:t.payload});case"UPDATE_GROUP":return z({},e,{currGroup:t.payload});case"UPDATE_OPEN_GROUP":return z({},e,{openGroup:t.payload});case"UPDATE_GROUPED":return z({},e,{grouped:t.payload});case"UPDATE_GRAPH":return z({},e,{ropeGraph:t.payload});default:return e}}),h),2),P=I[0],C=I[1];Object(o.useEffect)((function(){var e=0,r=P.ropeGraph.map((function(e){return U(e)}));P.grouped?(P.ropeGraph.forEach((function(n,o){if(t>=e&&(e+=n.length,t<e)){var i=n.length-(e-t);r[o][i]="visited",C({type:"UPDATE_GRAPH",payload:r}),C({type:"UPDATE_STEP",payload:i}),C({type:"UPDATE_GROUP",payload:o}),C({type:"UPDATE_OPEN_GROUP",payload:o})}})),t>=e&&C({type:"UPDATE_STEP",payload:t})):(t<r.length&&t>=0&&(r[t][0]="visited"),C({type:"UPDATE_STEP",payload:t}),C({type:"UPDATE_GRAPH",payload:r}))}),[t]);var S=[];return i?i.forEach((function(e,t){var r=e.type,o=e.text,i=e.onClick,c=e.items;r&&"group"===r?S.push(Object(n.jsx)(w,{key:t,groupItemsId:g(t),index:t,text:o,instanceIdPrefix:j,overrides:l},c.map((function(e,t){return Object(n.jsx)(T,{key:t,onClick:e.onClick,overrides:l},e.text)})))):S.push(Object(n.jsx)(T,{key:t,groupItemsId:g(t),index:t,onClick:i,end:r&&"end"===r,instanceIdPrefix:j,overrides:l},o))})):S=o.Children.map(a,(function(e,t){return Object(o.cloneElement)(e,{groupItemsId:g(t),index:t})})),Object(n.jsx)(N.Provider,{value:z({},P,{handleClick:function(e){C({type:"UPDATE_OPEN_GROUP",payload:e!==P.openGroup?e:null})}})},Object(n.jsx)(v.ProgressRope.component,Object.assign({current:t,instanceIdPrefix:j,data:i},p,v.ProgressRope.attributes(m),{css:v.ProgressRope.styles(m)}),S))};Y.defaultProps={current:0},r.d(t,"ProgressRope",(function(){return Y})),r.d(t,"Group",(function(){return w})),r.d(t,"Item",(function(){return T}))}}]);