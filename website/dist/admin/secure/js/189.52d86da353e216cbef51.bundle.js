(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{1248:function(e,t,n){"use strict";n.r(t),n.d(t,"type",(function(){return p})),n.d(t,"Sidebar",(function(){return v})),n.d(t,"Node",(function(){return O})),n.d(t,"getSchema",(function(){return w})),n.d(t,"getPlugins",(function(){return j}));var r=n(250),i=n(226),o=n(0),c=n(654),a=n(485),u=n(371),s=n(260),d=n(358);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p="image-container",m=function(e,t,n){var r=new FileReader;r.onload=function(r){return y(e,t,n,r.target.result)},r.readAsDataURL(n)},y=function(e,t,n,r){t.insertBlock({type:p,nodes:[s.a.create({type:e.image.type,data:{file:n,src:r}})]})};function v(e){var t=e.blocks,n=e.editor,r=Object(i.b)("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Object(i.b)("path",{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"}));return Object(i.b)(d.a,{icon:r,text:"Image",insertBlock:function(){new Promise((function(e){var t=document.createElement("input");t.type="file",t.onchange=function(){return e(g(t.files))},t.click()})).then((function(e){e.forEach((function(e){return m(t,n,e)}))}))}})}function h(e){return"left"===e?{float:"left",marginRight:"10px",width:"50%"}:"right"===e?{float:"right",marginLeft:"10px",width:"50%"}:{display:"block",margin:"0px auto",width:"100%"}}function O(e){var t=e.node.data.get("alignment");return Object(i.b)("figure",Object.assign({css:Object(r.a)(f({display:"flex",flexDirection:"column"},h(t)),"")},e.attributes),Object(i.b)(e.blocks.image.ImageAlignmentContext.Provider,{value:Object(o.useMemo)((function(){return{alignment:t,onAlignmentChange:function(t){e.editor.setNodeByKey(e.node.key,{data:e.node.data.set("alignment",t)})}}}),[e.node.key,t,e.editor,e.node.data])},e.children))}var w=function(e){var t=e.blocks,n=t.image,r=t.caption;return{nodes:[{match:[{type:n.type}],min:1,max:1},{match:[{type:r.type}],min:1,max:1}],normalize:function(e,t){switch(t.code){case"child_min_invalid":return 0===t.index&&e.removeNodeByKey(t.node.key),void(1===t.index&&e.insertNodeByKey(t.node.key,1,s.a.create("caption")));case"node_data_invalid":return void("alignment"===t.key&&e.setNodeByKey(t.node.key,{data:t.node.data.set("alignment","center")}))}console.log(t)},data:{alignment:function(e){switch(e){case"center":case"left":case"right":return!0}return!1}}}},j=function(e){var t=e.blocks;return[Object(c.a)({extensions:a,insertImage:m.bind(null,t)}),{onDragStart:function(e,n,r){var i=n.value.document,o=Object(u.b)(e.target,n);if(o.type===t.image.type){var c=i.getAncestors(o.key),a=c.get(c.size-1);a.type===p&&n.moveToRangeOfNode(a)}r()}}]}},358:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(250),i=n(226);var o={name:"1br5zm0",styles:"padding:10px 5px;"},c={name:"1br5zm0",styles:"padding:10px 5px;"},a=function(e){var t=e.icon,n=e.text,a=e.insertBlock;return Object(i.b)("button",{css:Object(r.a)({background:"none",fontSize:"1rem",padding:"0 15px",margin:0,border:"none",display:"flex",width:"100%",alignItems:"center",":focus,:hover":{background:"#eaeaea"}},""),type:"button",onClick:a},Object(i.b)("div",{css:o},t),Object(i.b)("span",{css:c},n))}}}]);